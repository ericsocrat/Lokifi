
> lokifi-frontend@0.1.0 test:coverage
> vitest run --coverage && node scripts/update-coverage-dashboard.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/USER/Desktop/lokifi/apps/frontend[39m
      [2mCoverage enabled with [22m[33mv8[39m

stderr | tests/api/contracts/websocket.contract.test.ts > WebSocket API Contract > Connection > establishes WebSocket connection
[MSW] Warning: intercepted a request without a matching request handler:

  Î“Ã‡Ã³ GET ws://localhost:8000/ws

If you still wish to intercept this unhandled request, please create a request handler for it.
Read more: https://mswjs.io/docs/http/intercepting-requests

stderr | tests/api/contracts/websocket.contract.test.ts > WebSocket API Contract > Connection > receives real-time price updates
Unhandled GET request to http://localhost:8000/ws

[90mstdout[2m | tests/api/contracts/websocket.contract.test.ts[2m > [22m[2mWebSocket API Contract[2m > [22m[2mConnection[2m > [22m[2mreceives real-time price updates
[22m[39mÎ“Ã¤â•£âˆ©â••Ã…  WebSocket not available, skipping test

 [32mÎ“Â£Ã´[39m tests/components/ProjectBar.test.tsx [2m([22m[2m29 tests[22m[2m)[22m[33m 1933[2mms[22m[39m
   [33m[2mÎ“Â£Ã´[22m[39m ProjectBar[2m > [22mProject Name Management[2m > [22mshould allow changing the project name [33m 418[2mms[22m[39m
   [33m[2mÎ“Â£Ã´[22m[39m ProjectBar[2m > [22mSave Operations[2m > [22mshould use current project name when saving [33m 321[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/components/dashboard/ProfileDropdown.test.tsx [2m([22m[2m36 tests[22m[2m)[22m[33m 2341[2mms[22m[39m
[90mstdout[2m | tests/api/contracts/websocket.contract.test.ts[2m > [22m[2mWebSocket API Contract[2m > [22m[2mConnection[2m > [22m[2mreceives real-time price updates
[22m[39mÎ“Ã¤â•£âˆ©â••Ã…  No price updates received (expected in test env)

[90mstdout[2m | tests/api/contracts/websocket.contract.test.ts[2m > [22m[2mWebSocket API Contract[2m > [22m[2mError Handling[2m > [22m[2mrejects malformed messages
[22m[39mÎ“Ã¤â•£âˆ©â••Ã…  Skipping - WebSocket not connected

 [32mÎ“Â£Ã´[39m tests/api/contracts/websocket.contract.test.ts [2m([22m[2m4 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 3046[2mms[22m[39m
   [33m[2mÎ“Â£Ã´[22m[39m WebSocket API Contract[2m > [22mConnection[2m > [22mreceives real-time price updates [33m 3004[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/components/ShareBar.test.tsx [2m([22m[2m44 tests[22m[2m)[22m[33m 4030[2mms[22m[39m
   [33m[2mÎ“Â£Ã´[22m[39m ShareBar[2m > [22mCollaboration - Starting[2m > [22mshould trim whitespace from room ID [33m 339[2mms[22m[39m
   [33m[2mÎ“Â£Ã´[22m[39m ShareBar[2m > [22mEdge Cases[2m > [22mshould allow restarting collaboration after stopping [33m 448[2mms[22m[39m
[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2minitialization[2m > [22m[2mstarts with loading state
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2minitialization[2m > [22m[2mfetches user data on mount if authenticated
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > initialization > fetches user data on mount if authenticated
Unhandled GET request to http://localhost:8000/api/auth/me

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2minitialization[2m > [22m[2mfetches user data on mount if authenticated
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m
â‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m404[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2minitialization[2m > [22m[2mfetches user data on mount if authenticated
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Not Found"}
Î“Â£Ã  AuthProvider: User data received: test@example.com

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > initialization > fetches user data on mount if authenticated
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Not Found"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at me (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:44:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:40:24

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2minitialization[2m > [22m[2mfetches user data on mount if authenticated
[22m[39mÎ“Â¥Ã® AuthProvider: Failed to get user data: Error: {"detail":"Not Found"}
    at apiFetch [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\apiFetch.ts:45:15[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at me [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\auth.ts:44:15[90m)[39m
    at [90mC:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\components\AuthProvider.tsx:40:24

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2minitialization[2m > [22m[2msets user to null if /me request fails
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2minitialization[2m > [22m[2msets user to null if /me request fails
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m401[39m

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > initialization > sets user to null if /me request fails
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Unauthorized"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at me (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:44:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:40:24

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2minitialization[2m > [22m[2msets user to null if /me request fails
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Unauthorized"}

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2minitialization[2m > [22m[2msets user to null if /me request fails
[22m[39mÎ“Â¥Ã® AuthProvider: Failed to get user data: Error: {"detail":"Unauthorized"}
    at apiFetch [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\apiFetch.ts:45:15[90m)[39m
    at me [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\auth.ts:44:15[90m)[39m
    at [90mC:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\components\AuthProvider.tsx:40:24

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2minitialization[2m > [22m[2mhandles network errors gracefully
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > initialization > handles network errors gracefully
Î“Â¥Ã® apiFetch: Request failed: TypeError: Failed to fetch
    at createNetworkError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/utils/createNetworkError.ts:2:24)
    at Object.onRequestError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:139:34)
    at handleResponse (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:58:15)
    at handleRequest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:230:12)
    at globalThis.fetch (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:72:32)
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:27:17)
    at me (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:44:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:40:24 {
  cause: Response {
    status: 0,
    statusText: '',
    headers: Headers {},
    body: null,
    bodyUsed: false,
    ok: false,
    redirected: false,
    type: 'error',
    url: ''
  }
}

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2minitialization[2m > [22m[2mhandles network errors gracefully
[22m[39mÎ“Â¥Ã® AuthProvider: Failed to get user data: TypeError: Failed to fetch
    at createNetworkError [90m(file:///C:/Users/USER/Desktop/lokifi/apps/frontend/[39mnode_modules/[4m@mswjs/interceptors[24m/src/interceptors/fetch/utils/createNetworkError.ts:2:24[90m)[39m
    at Object.onRequestError [90m(file:///C:/Users/USER/Desktop/lokifi/apps/frontend/[39mnode_modules/[4m@mswjs/interceptors[24m/src/interceptors/fetch/index.ts:139:34[90m)[39m
    at handleResponse [90m(file:///C:/Users/USER/Desktop/lokifi/apps/frontend/[39mnode_modules/[4m@mswjs/interceptors[24m/src/utils/handleRequest.ts:58:15[90m)[39m
    at handleRequest [90m(file:///C:/Users/USER/Desktop/lokifi/apps/frontend/[39mnode_modules/[4m@mswjs/interceptors[24m/src/utils/handleRequest.ts:230:12[90m)[39m
    at globalThis.fetch [90m(file:///C:/Users/USER/Desktop/lokifi/apps/frontend/[39mnode_modules/[4m@mswjs/interceptors[24m/src/interceptors/fetch/index.ts:72:32[90m)[39m
    at apiFetch [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\apiFetch.ts:27:17[90m)[39m
    at me [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\auth.ts:44:15[90m)[39m
    at [90mC:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\components\AuthProvider.tsx:40:24 {
  cause: Response {
    status: [33m0[39m,
    statusText: [32m''[39m,
    headers: Headers {},
    body: [1mnull[22m,
    bodyUsed: [33mfalse[39m,
    ok: [33mfalse[39m,
    redirected: [33mfalse[39m,
    type: [32m'error'[39m,
    url: [32m''[39m
  }
}

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2msuccessfully logs in user
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2msuccessfully logs in user
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2msuccessfully logs in user
[22m[39mÎ“Â£Ã  AuthProvider: User data received: test@example.com

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2msuccessfully logs in user
[22m[39mâ‰¡Æ’Ã¶Ã‰ AuthProvider: Logging in...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/login
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2msuccessfully logs in user
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2msuccessfully logs in user
[22m[39mâ‰¡Æ’Ã¶Ã‰ AuthProvider: Login successful, refreshing user data...
â‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2msuccessfully logs in user
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2msuccessfully logs in user
[22m[39mÎ“Â£Ã  AuthProvider: User data received: test@example.com

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mthrows error on login failure
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > login > throws error on login failure
Unhandled GET request to http://localhost:8000/api/auth/me

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mthrows error on login failure
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m404[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mthrows error on login failure
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Not Found"}

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > login > throws error on login failure
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Not Found"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at me (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:44:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:40:24

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mthrows error on login failure
[22m[39mÎ“Â¥Ã® AuthProvider: Failed to get user data: Error: {"detail":"Not Found"}
    at apiFetch [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\apiFetch.ts:45:15[90m)[39m
    at me [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\auth.ts:44:15[90m)[39m
    at [90mC:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\components\AuthProvider.tsx:40:24

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mthrows error on login failure
[22m[39mâ‰¡Æ’Ã¶Ã‰ AuthProvider: Logging in...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/login
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mthrows error on login failure
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m401[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mthrows error on login failure
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Invalid credentials"}

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > login > throws error on login failure
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Invalid credentials"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at login (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:19:15)
    at Object.login (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:68:7)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\components\AuthProvider.test.tsx:167:11

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mlogs login attempts with console
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mlogs login attempts with console
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mlogs login attempts with console
[22m[39mÎ“Â£Ã  AuthProvider: User data received: test@example.com

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mlogs login attempts with console
[22m[39mâ‰¡Æ’Ã¶Ã‰ AuthProvider: Logging in...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/login
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mlogs login attempts with console
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mlogs login attempts with console
[22m[39mâ‰¡Æ’Ã¶Ã‰ AuthProvider: Login successful, refreshing user data...
â‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mlogs login attempts with console
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogin[2m > [22m[2mlogs login attempts with console
[22m[39mÎ“Â£Ã  AuthProvider: User data received: test@example.com

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2msuccessfully registers user
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2msuccessfully registers user
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2msuccessfully registers user
[22m[39mÎ“Â£Ã  AuthProvider: User data received: new@example.com

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2msuccessfully registers user
[22m[39mâ‰¡Æ’Ã´Â¥ AuthProvider: Registering...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/register
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2msuccessfully registers user
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2msuccessfully registers user
[22m[39mâ‰¡Æ’Ã´Â¥ AuthProvider: Registration successful, refreshing user data...
â‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2msuccessfully registers user
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2msuccessfully registers user
[22m[39mÎ“Â£Ã  AuthProvider: User data received: new@example.com

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mthrows error on registration failure
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > register > throws error on registration failure
Unhandled GET request to http://localhost:8000/api/auth/me

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mthrows error on registration failure
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m404[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mthrows error on registration failure
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Not Found"}

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > register > throws error on registration failure
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Not Found"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at me (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:44:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:40:24

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mthrows error on registration failure
[22m[39mÎ“Â¥Ã® AuthProvider: Failed to get user data: Error: {"detail":"Not Found"}
    at apiFetch [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\apiFetch.ts:45:15[90m)[39m
    at me [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\auth.ts:44:15[90m)[39m
    at [90mC:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\components\AuthProvider.tsx:40:24

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mthrows error on registration failure
[22m[39mâ‰¡Æ’Ã´Â¥ AuthProvider: Registering...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/register
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mthrows error on registration failure
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m400[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mthrows error on registration failure
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Email already exists"}

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > register > throws error on registration failure
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Email already exists"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at register (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:9:15)
    at Object.register (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:79:7)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\components\AuthProvider.test.tsx:280:11

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mlogs registration attempts with console
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mlogs registration attempts with console
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mlogs registration attempts with console
[22m[39mÎ“Â£Ã  AuthProvider: User data received: new@example.com

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mlogs registration attempts with console
[22m[39mâ‰¡Æ’Ã´Â¥ AuthProvider: Registering...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/register
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mlogs registration attempts with console
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mlogs registration attempts with console
[22m[39mâ‰¡Æ’Ã´Â¥ AuthProvider: Registration successful, refreshing user data...
â‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mlogs registration attempts with console
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mregister[2m > [22m[2mlogs registration attempts with console
[22m[39mÎ“Â£Ã  AuthProvider: User data received: new@example.com

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2msuccessfully logs out user
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2msuccessfully logs out user
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2msuccessfully logs out user
[22m[39mÎ“Â£Ã  AuthProvider: User data received: test@example.com

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2msuccessfully logs out user
[22m[39mâ‰¡Æ’ÃœÂ¬ AuthProvider: Logging out...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/logout
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2msuccessfully logs out user
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2msuccessfully logs out user
[22m[39mâ‰¡Æ’ÃœÂ¬ AuthProvider: Logged out

 [32mÎ“Â£Ã´[39m tests/components/markets/KeyboardShortcuts.test.tsx [2m([22m[2m32 tests[22m[2m)[22m[33m 1634[2mms[22m[39m
[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2mlogs logout attempts with console
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2mlogs logout attempts with console
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2mlogs logout attempts with console
[22m[39mÎ“Â£Ã  AuthProvider: User data received: test@example.com

 [32mÎ“Â£Ã´[39m tests/components/DrawingSettings.test.tsx [2m([22m[2m25 tests[22m[2m)[22m[33m 1281[2mms[22m[39m
[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2mlogs logout attempts with console
[22m[39mâ‰¡Æ’ÃœÂ¬ AuthProvider: Logging out...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/logout
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2mlogs logout attempts with console
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2mlogs logout attempts with console
[22m[39mâ‰¡Æ’ÃœÂ¬ AuthProvider: Logged out

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2mthrows error if logout API call fails
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2mthrows error if logout API call fails
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2mthrows error if logout API call fails
[22m[39mÎ“Â£Ã  AuthProvider: User data received: test@example.com

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mlogout[2m > [22m[2mthrows error if logout API call fails
[22m[39mâ‰¡Æ’ÃœÂ¬ AuthProvider: Logging out...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/logout
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > logout > throws error if logout API call fails
Î“Â¥Ã® apiFetch: Request failed: TypeError: Failed to fetch
    at createNetworkError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/utils/createNetworkError.ts:2:24)
    at Object.onRequestError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:139:34)
    at handleResponse (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:58:15)
    at handleRequest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:230:12)
    at globalThis.fetch (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:72:32)
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:27:17)
    at logout (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:40:3)
    at Object.logout (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:89:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\components\AuthProvider.test.tsx:432:11 {
  cause: Response {
    status: 0,
    statusText: '',
    headers: Headers {},
    body: null,
    bodyUsed: false,
    ok: false,
    redirected: false,
    type: 'error',
    url: ''
  }
}

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrefresh[2m > [22m[2mrefreshes user data successfully
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrefresh[2m > [22m[2mrefreshes user data successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrefresh[2m > [22m[2mrefreshes user data successfully
[22m[39mÎ“Â£Ã  AuthProvider: User data received: test@example.com

 [32mÎ“Â£Ã´[39m tests/components/SymbolTfBar.test.tsx [2m([22m[2m33 tests[22m[2m)[22m[33m 5353[2mms[22m[39m
   [33m[2mÎ“Â£Ã´[22m[39m SymbolTfBar[2m > [22mTimeframe Presets[2m > [22mapplies each timeframe preset correctly [33m 438[2mms[22m[39m
   [33m[2mÎ“Â£Ã´[22m[39m SymbolTfBar[2m > [22mFreeform Timeframe Input[2m > [22mhandles different timeframe formats [33m 486[2mms[22m[39m
[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrefresh[2m > [22m[2mrefreshes user data successfully
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrefresh[2m > [22m[2mrefreshes user data successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrefresh[2m > [22m[2mrefreshes user data successfully
[22m[39mÎ“Â£Ã  AuthProvider: User data received: test@example.com

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrefresh[2m > [22m[2mhandles refresh errors gracefully
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrefresh[2m > [22m[2mhandles refresh errors gracefully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrefresh[2m > [22m[2mhandles refresh errors gracefully
[22m[39mÎ“Â£Ã  AuthProvider: User data received: test@example.com

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrefresh[2m > [22m[2mhandles refresh errors gracefully
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > refresh > handles refresh errors gracefully
Î“Â¥Ã® apiFetch: Request failed: TypeError: Failed to fetch
    at createNetworkError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/utils/createNetworkError.ts:2:24)
    at Object.onRequestError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:139:34)
    at handleResponse (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:58:15)
    at handleRequest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:230:12)
    at globalThis.fetch (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:72:32)
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:27:17)
    at me (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:44:15)
    at Object.refresh (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:40:24)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\components\AuthProvider.test.tsx:507:9 {
  cause: Response {
    status: 0,
    statusText: '',
    headers: Headers {},
    body: null,
    bodyUsed: false,
    ok: false,
    redirected: false,
    type: 'error',
    url: ''
  }
}

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrefresh[2m > [22m[2mhandles refresh errors gracefully
[22m[39mÎ“Â¥Ã® AuthProvider: Failed to get user data: TypeError: Failed to fetch
    at createNetworkError [90m(file:///C:/Users/USER/Desktop/lokifi/apps/frontend/[39mnode_modules/[4m@mswjs/interceptors[24m/src/interceptors/fetch/utils/createNetworkError.ts:2:24[90m)[39m
    at Object.onRequestError [90m(file:///C:/Users/USER/Desktop/lokifi/apps/frontend/[39mnode_modules/[4m@mswjs/interceptors[24m/src/interceptors/fetch/index.ts:139:34[90m)[39m
    at handleResponse [90m(file:///C:/Users/USER/Desktop/lokifi/apps/frontend/[39mnode_modules/[4m@mswjs/interceptors[24m/src/utils/handleRequest.ts:58:15[90m)[39m
    at handleRequest [90m(file:///C:/Users/USER/Desktop/lokifi/apps/frontend/[39mnode_modules/[4m@mswjs/interceptors[24m/src/utils/handleRequest.ts:230:12[90m)[39m
    at globalThis.fetch [90m(file:///C:/Users/USER/Desktop/lokifi/apps/frontend/[39mnode_modules/[4m@mswjs/interceptors[24m/src/interceptors/fetch/index.ts:72:32[90m)[39m
    at apiFetch [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\apiFetch.ts:27:17[90m)[39m
    at me [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\auth.ts:44:15[90m)[39m
    at Object.refresh [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\components\AuthProvider.tsx:40:24[90m)[39m
    at [90mC:\Users\USER\Desktop\lokifi\apps\frontend\[39mtests\components\AuthProvider.test.tsx:507:9 {
  cause: Response {
    status: [33m0[39m,
    statusText: [32m''[39m,
    headers: Headers {},
    body: [1mnull[22m,
    bodyUsed: [33mfalse[39m,
    ok: [33mfalse[39m,
    redirected: [33mfalse[39m,
    type: [32m'error'[39m,
    url: [32m''[39m
  }
}

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > useAuth hook > throws error when used outside AuthProvider
Error: Uncaught [Error: useAuth must be used within AuthProvider]
    at reportException (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
    at invokeEventListeners (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
    at invokeGuardedCallback (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
    at beginWork$1 (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
    at performUnitOfWork (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:26599:12) Error: useAuth must be used within AuthProvider
    at useAuth (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:111:19)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\components\AuthProvider.test.tsx:519:26
    at TestComponent (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\@testing-library\react\dist\pure.js:331:27)
    at renderWithHooks (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
    at invokeEventListeners (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
Error: Uncaught [Error: useAuth must be used within AuthProvider]
    at reportException (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
    at invokeEventListeners (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
    at invokeGuardedCallback (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
    at beginWork$1 (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
    at performUnitOfWork (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:26599:12) Error: useAuth must be used within AuthProvider
    at useAuth (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:111:19)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\components\AuthProvider.test.tsx:519:26
    at TestComponent (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\@testing-library\react\dist\pure.js:331:27)
    at renderWithHooks (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
    at invokeEventListeners (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
The above error occurred in the <TestComponent> component:

    at TestComponent (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\@testing-library\react\dist\pure.js:329:5)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2museAuth hook[2m > [22m[2mreturns context value when used inside AuthProvider
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

stderr | tests/components/AuthProvider.test.tsx > AuthProvider > renders children correctly > renders child components
Unhandled GET request to http://localhost:8000/api/auth/me

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrenders children correctly[2m > [22m[2mrenders child components
[22m[39mâ‰¡Æ’Ã¶Ã¤ AuthProvider: Refreshing user data...
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/components/AuthProvider.test.tsx[2m > [22m[2mAuthProvider[2m > [22m[2mrenders children correctly
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m404[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Not Found"}

stderr | tests/components/AuthProvider.test.tsx
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Not Found"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at me (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:44:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:40:24

[90mstdout[2m | tests/components/AuthProvider.test.tsx
[22m[39mÎ“Â¥Ã® AuthProvider: Failed to get user data: Error: {"detail":"Not Found"}
    at apiFetch [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\apiFetch.ts:45:15[90m)[39m
    at me [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\auth.ts:44:15[90m)[39m
    at [90mC:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\components\AuthProvider.tsx:40:24

stderr | tests/components/AuthProvider.test.tsx
Unhandled GET request to http://localhost:8000/api/auth/me

[90mstdout[2m | tests/components/AuthProvider.test.tsx
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m404[39m

[90mstdout[2m | tests/components/AuthProvider.test.tsx
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Not Found"}

stderr | tests/components/AuthProvider.test.tsx
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Not Found"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at me (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:44:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AuthProvider.tsx:40:24

[90mstdout[2m | tests/components/AuthProvider.test.tsx
[22m[39mÎ“Â¥Ã® AuthProvider: Failed to get user data: Error: {"detail":"Not Found"}
    at apiFetch [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\apiFetch.ts:45:15[90m)[39m
    at me [90m(C:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\lib\api\auth.ts:44:15[90m)[39m
    at [90mC:\Users\USER\Desktop\lokifi\apps\frontend\[39msrc\components\AuthProvider.tsx:40:24

 [32mÎ“Â£Ã´[39m tests/components/AuthProvider.test.tsx [2m([22m[2m18 tests[22m[2m)[22m[33m 1324[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/components/PluginManager.test.tsx [2m([22m[2m26 tests[22m[2m)[22m[33m 982[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/components/markets/MarketStats.test.tsx [2m([22m[2m31 tests[22m[2m)[22m[33m 312[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/stores/drawingStore.test.tsx [2m([22m[2m51 tests[22m[2m)[22m[33m 727[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/components/PriceChart.test.tsx [2m([22m[2m25 tests[22m[2m)[22m[33m 481[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/stores/paneStore.test.tsx [2m([22m[2m33 tests[22m[2m)[22m[33m 562[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/components/SelectionToolbar.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 481[2mms[22m[39m
stderr | tests/a11y/components.a11y.test.tsx > Component Accessibility Tests > should detect color contrast issues
Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
    at module.exports (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\browser\not-implemented.js:9:17)
    at HTMLCanvasElementImpl.getContext (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\nodes\HTMLCanvasElement-impl.js:42:5)
    at HTMLCanvasElement.getContext (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jsdom\lib\jsdom\living\generated\HTMLCanvasElement.js:131:58)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jest-axe\node_modules\axe-core\axe.js:13407:49
    at Object.get (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jest-axe\node_modules\axe-core\axe.js:7719:23)
    at _isIconLigature (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jest-axe\node_modules\axe-core\axe.js:13406:41)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jest-axe\node_modules\axe-core\axe.js:27313:54
    at Array.some (<anonymous>)
    at hasRealTextChildren (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jest-axe\node_modules\axe-core\axe.js:27312:35)
    at Rule.colorContrastMatches [as matches] (C:\Users\USER\Desktop\lokifi\apps\frontend\node_modules\jest-axe\node_modules\axe-core\axe.js:27277:12) undefined

 [32mÎ“Â£Ã´[39m tests/a11y/components.a11y.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 399[2mms[22m[39m
[90mstdout[2m | tests/security/auth-security.test.ts[2m > [22m[2mSecurity: Authentication[2m > [22m[2mRate Limiting[2m > [22m[2menforces rate limiting on login attempts
[22m[39mÎ“Ã¤â•£âˆ©â••Ã…  Rate limiting not detected - may need configuration

[90mstdout[2m | tests/security/auth-security.test.ts[2m > [22m[2mSecurity: Authentication[2m > [22m[2mRate Limiting[2m > [22m[2menforces rate limiting on API endpoints
[22m[39mÎ“Ã¤â•£âˆ©â••Ã…  No rate limiting detected for health endpoint

[90mstdout[2m | tests/security/auth-security.test.ts[2m > [22m[2mSecurity: Authentication[2m > [22m[2mPassword Security[2m > [22m[2mrejects weak passwords
[22m[39mÎ“ÃœÃ¡âˆ©â••Ã…  Weak password accepted: 123

[90mstdout[2m | tests/security/auth-security.test.ts[2m > [22m[2mSecurity: Authentication[2m > [22m[2mPassword Security[2m > [22m[2mrejects weak passwords
[22m[39mÎ“ÃœÃ¡âˆ©â••Ã…  Weak password accepted: password

 [32mÎ“Â£Ã´[39m tests/lib/stores/alertsStore.test.tsx [2m([22m[2m48 tests[22m[2m)[22m[33m 449[2mms[22m[39m
[90mstdout[2m | tests/security/auth-security.test.ts[2m > [22m[2mSecurity: Authentication[2m > [22m[2mPassword Security[2m > [22m[2mrejects weak passwords
[22m[39mÎ“ÃœÃ¡âˆ©â••Ã…  Weak password accepted: abc

[90mstdout[2m | tests/security/auth-security.test.ts[2m > [22m[2mSecurity: Authentication[2m > [22m[2mPassword Security[2m > [22m[2mrejects weak passwords
[22m[39mÎ“ÃœÃ¡âˆ©â••Ã…  Weak password accepted: 12345678

 [32mÎ“Â£Ã´[39m tests/components/markets/EmptyState.test.tsx [2m([22m[2m32 tests[22m[2m)[22m[33m 424[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/security/auth-security.test.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 425[2mms[22m[39m
stderr | tests/lib/stores/marketDataStore.test.tsx > MarketDataStore > Fetch OHLC Data - Error Handling > should handle HTTP error responses
Failed to fetch OHLC data: Error: HTTP 500: Internal Server Error
    at Object.fetchOHLCData (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\stores\marketDataStore.tsx:77:19)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\stores\marketDataStore.test.tsx:287:16

stderr | tests/lib/stores/marketDataStore.test.tsx > MarketDataStore > Fetch OHLC Data - Error Handling > should handle network errors
Failed to fetch OHLC data: Error: Network error
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\stores\marketDataStore.test.tsx:300:39
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | tests/lib/stores/marketDataStore.test.tsx > MarketDataStore > Fetch OHLC Data - Error Handling > should generate mock data on API failure
Failed to fetch OHLC data: Error: API down
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\stores\marketDataStore.test.tsx:315:39
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | tests/lib/stores/marketDataStore.test.tsx > MarketDataStore > Fetch OHLC Data - Error Handling > should cache mock data on error
Failed to fetch OHLC data: Error: Timeout
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\stores\marketDataStore.test.tsx:341:39
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | tests/lib/stores/marketDataStore.test.tsx > MarketDataStore > Mock Data Generation > should generate correct number of candles
Failed to fetch OHLC data: Error: Offline
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\stores\marketDataStore.test.tsx:357:39
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | tests/lib/stores/marketDataStore.test.tsx > MarketDataStore > Mock Data Generation > should generate realistic BTC prices
Failed to fetch OHLC data: Error: Offline
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\stores\marketDataStore.test.tsx:370:39
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | tests/lib/stores/marketDataStore.test.tsx > MarketDataStore > Mock Data Generation > should generate realistic ETH prices
Failed to fetch OHLC data: Error: Offline
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\stores\marketDataStore.test.tsx:385:39
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | tests/lib/stores/marketDataStore.test.tsx > MarketDataStore > Mock Data Generation > should generate realistic stock prices
Failed to fetch OHLC data: Error: Offline
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\stores\marketDataStore.test.tsx:400:39
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | tests/lib/stores/marketDataStore.test.tsx > MarketDataStore > Mock Data Generation > should generate valid OHLC relationships
Failed to fetch OHLC data: Error: Offline
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\stores\marketDataStore.test.tsx:415:39
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | tests/lib/stores/marketDataStore.test.tsx > MarketDataStore > Mock Data Generation > should have correct provider field in mock data
Failed to fetch OHLC data: Error: Offline
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\stores\marketDataStore.test.tsx:436:39
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

 [32mÎ“Â£Ã´[39m tests/lib/stores/marketDataStore.test.tsx [2m([22m[2m32 tests[22m[2m)[22m[32m 222[2mms[22m[39m
[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mmakes GET request successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/test
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mmakes GET request successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mmakes POST request successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/test
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mmakes POST request successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mmakes PUT request successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/test/123
â‰¡Æ’Ã®Ã‰ apiFetch: Method: PUT

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mmakes PUT request successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mmakes DELETE request successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/test/123
â‰¡Æ’Ã®Ã‰ apiFetch: Method: DELETE

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mmakes DELETE request successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m204[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mincludes credentials for cookie handling
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/test
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mincludes credentials for cookie handling
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2msets Content-Type header
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/test
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2msets Content-Type header
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mpreserves custom Content-Type header
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/test
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mpreserves custom Content-Type header
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mpreserves other custom headers
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/test
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mSuccessful Requests[2m > [22m[2mpreserves other custom headers
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mthrows error for 404 response
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/not-found
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mthrows error for 404 response
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m404[39m

stderr | tests/lib/api/apiFetch.test.ts > apiFetch > Error Handling > throws error for 404 response
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Resource not found"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiFetch.test.ts:185:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mthrows error for 404 response
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Resource not found"}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mthrows error for 500 response
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/error
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mthrows error for 500 response
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m500[39m

stderr | tests/lib/api/apiFetch.test.ts > apiFetch > Error Handling > throws error for 500 response
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Internal server error"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiFetch.test.ts:195:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mthrows error for 500 response
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Internal server error"}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles error response with plain text
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/error
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles error response with plain text
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m400[39m

stderr | tests/lib/api/apiFetch.test.ts > apiFetch > Error Handling > handles error response with plain text
Î“Â¥Ã® apiFetch: Request failed: Error: Plain text error
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiFetch.test.ts:205:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles error response with plain text
[22m[39mÎ“Â¥Ã® apiFetch: Error response: Plain text error

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles error response with invalid JSON
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/error
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles error response with invalid JSON
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m400[39m

stderr | tests/lib/api/apiFetch.test.ts > apiFetch > Error Handling > handles error response with invalid JSON
Î“Â¥Ã® apiFetch: Request failed: Error: Invalid JSON{
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiFetch.test.ts:218:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles error response with invalid JSON
[22m[39mÎ“Â¥Ã® apiFetch: Error response: Invalid JSON{

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles error response with empty body
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/error
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles error response with empty body
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m500[39m

stderr | tests/lib/api/apiFetch.test.ts > apiFetch > Error Handling > handles error response with empty body
Î“Â¥Ã® apiFetch: Request failed: Error: Internal Server Error
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiFetch.test.ts:231:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles error response with empty body
[22m[39mÎ“Â¥Ã® apiFetch: Error response: 

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles 401 unauthorized
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/protected
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles 401 unauthorized
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m401[39m

stderr | tests/lib/api/apiFetch.test.ts > apiFetch > Error Handling > handles 401 unauthorized
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Not authenticated"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiFetch.test.ts:241:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles 401 unauthorized
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Not authenticated"}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles 403 forbidden
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/forbidden
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles 403 forbidden
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m403[39m

stderr | tests/lib/api/apiFetch.test.ts > apiFetch > Error Handling > handles 403 forbidden
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Access denied"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiFetch.test.ts:251:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles 403 forbidden
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Access denied"}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles 422 validation error
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/validate
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles 422 validation error
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m422[39m

stderr | tests/lib/api/apiFetch.test.ts > apiFetch > Error Handling > handles 422 validation error
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":[{"loc":["body","email"],"msg":"Invalid email format","type":"value_error.email"}]}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiFetch.test.ts:272:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20
[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles 422 validation error
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":[{"loc":["body","email"],"msg":"Invalid email format","type":"value_error.email"}]}


[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles network error
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/network-error
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

stderr | tests/lib/api/apiFetch.test.ts > apiFetch > Error Handling > handles network error
Î“Â¥Ã® apiFetch: Request failed: TypeError: Failed to fetch
    at createNetworkError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/utils/createNetworkError.ts:2:24)
    at Object.onRequestError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:139:34)
    at handleResponse (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:58:15)
    at handleRequest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:230:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at globalThis.fetch (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:72:32)
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:27:17)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiFetch.test.ts:282:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20 {
  cause: Response {
    status: 0,
    statusText: '',
    headers: Headers {},
    body: null,
    bodyUsed: false,
    ok: false,
    redirected: false,
    type: 'error',
    url: ''
  }
}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mError Handling[2m > [22m[2mhandles timeout error
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/timeout
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mregister[2m > [22m[2mregisters a new user successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/register
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mregister[2m > [22m[2mregisters a new user successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mregister[2m > [22m[2mregisters user without optional username
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/register
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mregister[2m > [22m[2mregisters user without optional username
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mregister[2m > [22m[2mhandles registration error when email exists
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/register
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mregister[2m > [22m[2mhandles registration error when email exists
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m400[39m

stderr | tests/lib/api/auth.test.ts > Auth API Functions > register > handles registration error when email exists
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Email already registered"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.register (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:9:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:81:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mregister[2m > [22m[2mhandles registration error when email exists
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Email already registered"}

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mregister[2m > [22m[2mhandles validation errors
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/register
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mregister[2m > [22m[2mhandles validation errors
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m422[39m

stderr | tests/lib/api/auth.test.ts > Auth API Functions > register > handles validation errors
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":[{"loc":["body","email"],"msg":"Invalid email format","type":"value_error.email"}]}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.register (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:9:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:104:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mregister[2m > [22m[2mhandles validation errors
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":[{"loc":["body","email"],"msg":"Invalid email format","type":"value_error.email"}]}

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogin[2m > [22m[2mlogs in user successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/login
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogin[2m > [22m[2mlogs in user successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

 [32mÎ“Â£Ã´[39m tests/lib/stores/watchlistStore.test.tsx [2m([22m[2m47 tests[22m[2m)[22m[33m 369[2mms[22m[39m
[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogin[2m > [22m[2mhandles invalid credentials
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/login
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogin[2m > [22m[2mhandles invalid credentials
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m401[39m

stderr | tests/lib/api/auth.test.ts > Auth API Functions > login > handles invalid credentials
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Invalid credentials"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.login (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:19:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:137:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogin[2m > [22m[2mhandles invalid credentials
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Invalid credentials"}

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogin[2m > [22m[2mhandles account locked error
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/login
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogin[2m > [22m[2mhandles account locked error
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m403[39m

stderr | tests/lib/api/auth.test.ts > Auth API Functions > login > handles account locked error
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Account locked due to too many failed attempts"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.login (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:19:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:150:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogin[2m > [22m[2mhandles account locked error
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Account locked due to too many failed attempts"}

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogin[2m > [22m[2mhandles network errors
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/login
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

stderr | tests/lib/api/apiFetch.test.ts > apiFetch > Error Handling > handles timeout error
Î“Â¥Ã® apiFetch: Request failed: TypeError: Failed to fetch
    at createNetworkError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/utils/createNetworkError.ts:2:24)
    at Object.onRequestError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:139:34)
    at handleResponse (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:58:15)
    at handleRequest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:230:12)
    at globalThis.fetch (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:72:32)
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:27:17)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiFetch.test.ts:293:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20 {
  cause: Response {
    status: 0,
    statusText: '',
    headers: Headers {},
    body: null,
    bodyUsed: false,
    ok: false,
    redirected: false,
    type: 'error',
    url: ''
  }
}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mRequest Construction[2m > [22m[2mconstructs URL correctly
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/users/123
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

stderr | tests/lib/api/auth.test.ts > Auth API Functions > login > handles network errors
Î“Â¥Ã® apiFetch: Request failed: TypeError: Failed to fetch
    at createNetworkError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/utils/createNetworkError.ts:2:24)
    at Object.onRequestError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:139:34)
    at handleResponse (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:58:15)
    at handleRequest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:230:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at globalThis.fetch (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:72:32)
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:27:17)
    at Module.login (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:19:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:160:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20 {
  cause: Response {
    status: 0,
    statusText: '',
    headers: Headers {},
    body: null,
    bodyUsed: false,
    ok: false,
    redirected: false,
    type: 'error',
    url: ''
  }
}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mRequest Construction[2m > [22m[2mconstructs URL correctly
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mgoogleAuth[2m > [22m[2mauthenticates with Google successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/google
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mRequest Construction[2m > [22m[2mhandles URL with query parameters
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/users?page=1&limit=10
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mgoogleAuth[2m > [22m[2mauthenticates with Google successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mRequest Construction[2m > [22m[2mhandles URL with query parameters
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mgoogleAuth[2m > [22m[2mhandles invalid Google token
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/google
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mgoogleAuth[2m > [22m[2mhandles invalid Google token
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m401[39m

stderr | tests/lib/api/auth.test.ts > Auth API Functions > googleAuth > handles invalid Google token
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Invalid Google access token"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.googleAuth (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:29:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:194:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mgoogleAuth[2m > [22m[2mhandles invalid Google token
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Invalid Google access token"}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mRequest Construction[2m > [22m[2mpasses request body correctly
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/data
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mgoogleAuth[2m > [22m[2mhandles expired Google token
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/google
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mgoogleAuth[2m > [22m[2mhandles expired Google token
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m401[39m

stderr | tests/lib/api/auth.test.ts > Auth API Functions > googleAuth > handles expired Google token
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Google token expired"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.googleAuth (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:29:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:204:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mgoogleAuth[2m > [22m[2mhandles expired Google token
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Google token expired"}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mRequest Construction[2m > [22m[2mpasses request body correctly
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mgoogleAuth[2m > [22m[2mhandles Google API errors
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/google
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mgoogleAuth[2m > [22m[2mhandles Google API errors
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m500[39m

stderr | tests/lib/api/auth.test.ts > Auth API Functions > googleAuth > handles Google API errors
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Failed to verify Google token"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.googleAuth (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:29:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:214:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mgoogleAuth[2m > [22m[2mhandles Google API errors
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Failed to verify Google token"}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mResponse Handling[2m > [22m[2mreturns response object
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/test
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogout[2m > [22m[2mlogs out user successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/logout
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mResponse Handling[2m > [22m[2mreturns response object
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogout[2m > [22m[2mlogs out user successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mResponse Handling[2m > [22m[2mcan parse JSON response
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/json
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mResponse Handling[2m > [22m[2mcan parse JSON response
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogout[2m > [22m[2mhandles logout when already logged out
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/logout
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogout[2m > [22m[2mhandles logout when already logged out
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m401[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mResponse Handling[2m > [22m[2mcan read text response
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/text
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

stderr | tests/lib/api/auth.test.ts > Auth API Functions > logout > handles logout when already logged out
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"No active session"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.logout (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:40:3)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:237:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogout[2m > [22m[2mhandles logout when already logged out
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"No active session"}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mResponse Handling[2m > [22m[2mcan read text response
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogout[2m > [22m[2mhandles server errors during logout
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/logout
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogout[2m > [22m[2mhandles server errors during logout
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m500[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mResponse Handling[2m > [22m[2mpreserves response headers
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/headers
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

stderr | tests/lib/api/auth.test.ts > Auth API Functions > logout > handles server errors during logout
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Internal server error"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.logout (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:40:3)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:247:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mlogout[2m > [22m[2mhandles server errors during logout
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Internal server error"}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mResponse Handling[2m > [22m[2mpreserves response headers
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mme[2m > [22m[2mfetches current user successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mResponse Handling[2m > [22m[2mpreserves response status code
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/created
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mme[2m > [22m[2mfetches current user successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mResponse Handling[2m > [22m[2mpreserves response status code
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m201[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mme[2m > [22m[2mhandles unauthenticated request
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mme[2m > [22m[2mhandles unauthenticated request
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m401[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mme[2m > [22m[2mhandles unauthenticated request
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Not authenticated"}

stderr | tests/lib/api/auth.test.ts > Auth API Functions > me > handles unauthenticated request
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Not authenticated"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.me (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:44:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:281:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mme[2m > [22m[2mhandles expired session
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mme[2m > [22m[2mhandles expired session
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m401[39m

stderr | tests/lib/api/auth.test.ts > Auth API Functions > me > handles expired session
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Session expired"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.me (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:44:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:291:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mme[2m > [22m[2mhandles expired session
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Session expired"}

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mme[2m > [22m[2mhandles server errors
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

stderr | tests/lib/api/auth.test.ts > Auth API Functions > me > handles server errors
Î“Â¥Ã® apiFetch: Request failed: TypeError: Failed to fetch
    at createNetworkError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/utils/createNetworkError.ts:2:24)
    at Object.onRequestError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:139:34)
    at handleResponse (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:58:15)
    at handleRequest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:230:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at globalThis.fetch (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:72:32)
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:27:17)
    at Module.me (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:44:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:301:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20 {
  cause: Response {
    status: 0,
    statusText: '',
    headers: Headers {},
    body: null,
    bodyUsed: false,
    ok: false,
    redirected: false,
    type: 'error',
    url: ''
  }
}

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mEdge Cases[2m > [22m[2mhandles concurrent requests
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/concurrent/1
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/concurrent/2
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/concurrent/3
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mIntegration: Full Auth Flow[2m > [22m[2mcompletes full authentication flow
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/register
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mIntegration: Full Auth Flow[2m > [22m[2mcompletes full authentication flow
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mEdge Cases[2m > [22m[2mhandles concurrent requests
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mEdge Cases[2m > [22m[2mhandles concurrent requests
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m
â‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mIntegration: Full Auth Flow[2m > [22m[2mcompletes full authentication flow
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/login
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mIntegration: Full Auth Flow[2m > [22m[2mcompletes full authentication flow
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mEdge Cases[2m > [22m[2mhandles empty response body
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/delete
â‰¡Æ’Ã®Ã‰ apiFetch: Method: DELETE

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mIntegration: Full Auth Flow[2m > [22m[2mcompletes full authentication flow
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mEdge Cases[2m > [22m[2mhandles empty response body
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m204[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mIntegration: Full Auth Flow[2m > [22m[2mcompletes full authentication flow
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mIntegration: Full Auth Flow[2m > [22m[2mcompletes full authentication flow
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/logout
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mEdge Cases[2m > [22m[2mhandles very large payloads
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/large
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mIntegration: Full Auth Flow[2m > [22m[2mcompletes full authentication flow
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mError Handling Edge Cases[2m > [22m[2mhandles malformed JSON responses
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/login
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mError Handling Edge Cases[2m > [22m[2mhandles malformed JSON responses
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mEdge Cases[2m > [22m[2mhandles very large payloads
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mError Handling Edge Cases[2m > [22m[2mhandles timeout errors
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/login
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mEdge Cases[2m > [22m[2mhandles special characters in endpoint
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/special%20chars
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/apiFetch.test.ts[2m > [22m[2mapiFetch[2m > [22m[2mEdge Cases[2m > [22m[2mhandles special characters in endpoint
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

 [32mÎ“Â£Ã´[39m tests/components/markets/QuickStats.test.tsx [2m([22m[2m23 tests[22m[2m)[22m[32m 260[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/api/apiFetch.test.ts [2m([22m[2m38 tests[22m[2m)[22m[33m 360[2mms[22m[39m
stderr | tests/lib/api/auth.test.ts > Auth API Functions > Error Handling Edge Cases > handles timeout errors
Î“Â¥Ã® apiFetch: Request failed: TypeError: Failed to fetch
    at createNetworkError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/utils/createNetworkError.ts:2:24)
    at Object.onRequestError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:139:34)
    at handleResponse (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:58:15)
    at handleRequest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:230:12)
    at globalThis.fetch (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:72:32)
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:27:17)
    at Module.login (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\auth.ts:19:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\auth.test.ts:410:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20 {
  cause: Response {
    status: 0,
    statusText: '',
    headers: Headers {},
    body: null,
    bodyUsed: false,
    ok: false,
    redirected: false,
    type: 'error',
    url: ''
  }
}

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mError Handling Edge Cases[2m > [22m[2mhandles empty responses
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/auth/me
â‰¡Æ’Ã®Ã‰ apiFetch: Method: GET

[90mstdout[2m | tests/lib/api/auth.test.ts[2m > [22m[2mAuth API Functions[2m > [22m[2mError Handling Edge Cases[2m > [22m[2mhandles empty responses
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

 [32mÎ“Â£Ã´[39m tests/lib/api/auth.test.ts [2m([22m[2m26 tests[22m[2m)[22m[33m 306[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/utils/webVitals.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 278[2mms[22m[39m
stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Event Handling > should open modal when lokifi:open-alert event is dispatched
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Event Handling > should show Alert Modal content after event
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Event Handling > should pass open=true to AlertModal after event
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Event Handling > should handle multiple event dispatches
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Event Handling > should handle multiple event dispatches
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Close Functionality > should close modal when onClose is called
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Close Functionality > should close modal when onClose is called
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Close Functionality > should pass onClose callback to AlertModal
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Close Functionality > should hide modal after closing
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Close Functionality > should hide modal after closing
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Edge Cases > should handle rapid open/close cycles
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Edge Cases > should handle rapid open/close cycles
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Comparison with ReportPortal Pattern > should follow same portal pattern as ReportPortal
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/lib/api/apiClient.test.ts > APIClient > getSymbols > handles validation error for invalid response
API response validation failed: ZodError: [
  {
    "code": "invalid_type",
    "expected": "array",
    "received": "string",
    "path": [
      "data"
    ],
    "message": "Expected array, received string"
  }
]
    at Object.get error [as error] (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/zod/v3/types.js:39:31)
    at APIClient.request (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiClient.ts:153:63)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiClient.test.ts:116:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20 {
  issues: [
    {
      code: 'invalid_type',
      expected: 'array',
      received: 'string',
      path: [Array],
      message: 'Expected array, received string'
    }
  ],
  addIssue: [Function (anonymous)],
  addIssues: [Function (anonymous)],
  errors: [
    {
      code: 'invalid_type',
      expected: 'array',
      received: 'string',
      path: [Array],
      message: 'Expected array, received string'
    }
  ]
}

stderr | tests/components/AlertPortal.test.tsx > AlertPortal > Comparison with ReportPortal Pattern > should follow same portal pattern as ReportPortal
Warning: An update to AlertPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AlertPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\AlertPortal.tsx:9:57)

stderr | tests/lib/api/apiClient.test.ts > APIClient > getSymbols > handles validation error for invalid response
API response validation failed: ZodError: [
  {
    "code": "invalid_type",
    "expected": "array",
    "received": "string",
    "path": [
      "data"
    ],
    "message": "Expected array, received string"
  }
]
    at Object.get error [as error] (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/zod/v3/types.js:39:31)
    at APIClient.request (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiClient.ts:153:63)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiClient.test.ts:117:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20 {
  issues: [
    {
      code: 'invalid_type',
      expected: 'array',
      received: 'string',
      path: [Array],
      message: 'Expected array, received string'
    }
  ],
  addIssue: [Function (anonymous)],
  addIssues: [Function (anonymous)],
  errors: [
    {
      code: 'invalid_type',
      expected: 'array',
      received: 'string',
      path: [Array],
      message: 'Expected array, received string'
    }
  ]
}

stderr | tests/lib/api/apiClient.test.ts > APIClient > getOHLC > handles invalid OHLC data format
API response validation failed: ZodError: [
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "string",
    "path": [
      "data",
      0,
      "timestamp"
    ],
    "message": "Expected number, received string"
  }
]
    at Object.get error [as error] (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/zod/v3/types.js:39:31)
    at APIClient.request (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiClient.ts:153:63)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiClient.test.ts:238:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20 {
  issues: [
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'string',
      path: [Array],
      message: 'Expected number, received string'
    }
  ],
  addIssue: [Function (anonymous)],
  addIssues: [Function (anonymous)],
  errors: [
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'string',
      path: [Array],
      message: 'Expected number, received string'
    }
  ]
}

stderr | tests/lib/api/apiClient.test.ts > APIClient > getTicker > validates ticker response structure
API response validation failed: ZodError: [
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "undefined",
    "path": [
      "data",
      "price"
    ],
    "message": "Required"
  },
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "undefined",
    "path": [
      "data",
      "change_24h"
    ],
    "message": "Required"
  },
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "undefined",
    "path": [
      "data",
      "volume_24h"
    ],
    "message": "Required"
  },
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "undefined",
    "path": [
      "data",
      "high_24h"
    ],
    "message": "Required"
  },
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "undefined",
    "path": [
      "data",
      "low_24h"
    ],
    "message": "Required"
  },
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "undefined",
    "path": [
      "data",
      "timestamp"
    ],
    "message": "Required"
  }
]
    at Object.get error [as error] (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/zod/v3/types.js:39:31)
    at APIClient.request (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiClient.ts:153:63)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiClient.test.ts:338:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20 {
  issues: [
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    }
  ],
  addIssue: [Function (anonymous)],
  addIssues: [Function (anonymous)],
  errors: [
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    }
  ]
}

stderr | tests/lib/api/apiClient.test.ts > APIClient > getTicker > validates ticker response structure
API response validation failed: ZodError: [
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "undefined",
    "path": [
      "data",
      "price"
    ],
    "message": "Required"
  },
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "undefined",
    "path": [
      "data",
      "change_24h"
    ],
    "message": "Required"
  },
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "undefined",
    "path": [
      "data",
      "volume_24h"
    ],
    "message": "Required"
  },
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "undefined",
    "path": [
      "data",
      "high_24h"
    ],
    "message": "Required"
  },
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "undefined",
    "path": [
      "data",
      "low_24h"
    ],
    "message": "Required"
  },
  {
    "code": "invalid_type",
    "expected": "number",
    "received": "undefined",
    "path": [
      "data",
      "timestamp"
    ],
    "message": "Required"
  }
]
    at Object.get error [as error] (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/zod/v3/types.js:39:31)
    at APIClient.request (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiClient.ts:153:63)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\apiClient.test.ts:339:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20 {
  issues: [
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    }
  ],
  addIssue: [Function (anonymous)],
  addIssues: [Function (anonymous)],
  errors: [
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'number',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    }
  ]
}

 [32mÎ“Â£Ã´[39m tests/components/AlertPortal.test.tsx [2m([22m[2m18 tests[22m[2m)[22m[33m 459[2mms[22m[39m
stderr | tests/components/ReportPortal.test.tsx > ReportPortal > Event Handling > should open composer when lokifi:open-report event is dispatched
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)

stderr | tests/security/input-validation.test.ts > Security: Input Validation > XML Injection Protection > rejects XML external entity (XXE) attacks
Unhandled POST request to http://localhost:8000/api/import

stderr | tests/components/ReportPortal.test.tsx > ReportPortal > Event Handling > should show Report Composer content after event
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)

stderr | tests/components/ReportPortal.test.tsx > ReportPortal > Event Handling > should pass open=true to ReportComposer after event
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)

[90mstdout[2m | tests/security/input-validation.test.ts[2m > [22m[2mSecurity: Input Validation[2m > [22m[2mNoSQL Injection Protection[2m > [22m[2mrejects MongoDB injection operators
[22m[39mÎ“Ã¤â•£âˆ©â••Ã…  NoSQL payload processed: {"$gt": ""}

[90mstdout[2m | tests/security/input-validation.test.ts[2m > [22m[2mSecurity: Input Validation[2m > [22m[2mNoSQL Injection Protection[2m > [22m[2mrejects MongoDB injection operators
[22m[39mÎ“Ã¤â•£âˆ©â••Ã…  NoSQL payload processed: {"$ne": null}

stderr | tests/components/ReportPortal.test.tsx > ReportPortal > Event Handling > should handle multiple event dispatches
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)

stderr | tests/components/ReportPortal.test.tsx > ReportPortal > Event Handling > should handle multiple event dispatches
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)

[90mstdout[2m | tests/security/input-validation.test.ts[2m > [22m[2mSecurity: Input Validation[2m > [22m[2mNoSQL Injection Protection[2m > [22m[2mrejects MongoDB injection operators
[22m[39mÎ“Ã¤â•£âˆ©â••Ã…  NoSQL payload processed: {"$regex": ".*"}

stderr | tests/components/ReportPortal.test.tsx > ReportPortal > Close Functionality > should close composer when onClose is called
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)

stderr | tests/security/input-validation.test.ts > Security: Input Validation > HTTP Header Injection > rejects CRLF injection in redirects
Unhandled GET request to http://localhost:8000/api/redirect?url=http%3A%2F%2Fevil.com%0D%0ASet-Cookie%3A%20evil%3Dtrue

stderr | tests/components/ReportPortal.test.tsx > ReportPortal > Close Functionality > should close composer when onClose is called
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)

stderr | tests/security/input-validation.test.ts > Security: Input Validation > Integer Overflow Protection > validates numeric boundaries
Unhandled GET request to http://localhost:8000/api/ohlc/BTCUSDT/1h?limit=9007199254740992

stderr | tests/components/ReportPortal.test.tsx > ReportPortal > Close Functionality > should pass onClose callback to ReportComposer
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)

stderr | tests/security/input-validation.test.ts > Security: Input Validation > Integer Overflow Protection > validates numeric boundaries
Unhandled GET request to http://localhost:8000/api/ohlc/BTCUSDT/1h?limit=1.7976931348623157e+308

stderr | tests/components/ReportPortal.test.tsx > ReportPortal > Close Functionality > should hide composer after closing
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)

stderr | tests/lib/api/apiClient.test.ts > APIClient > Error Handling > handles HTTP errors without error response
[APIClient] Received error response not matching schema: {
  status: 500,
  statusText: 'Internal Server Error',
  data: { some: 'data' },
  parseErrors: [
    {
      received: undefined,
      code: 'invalid_literal',
      expected: false,
      path: [Array],
      message: 'Invalid literal value, expected false'
    },
    {
      code: 'invalid_type',
      expected: 'string',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'string',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'string',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    },
    {
      code: 'invalid_type',
      expected: 'string',
      received: 'undefined',
      path: [Array],
      message: 'Required'
    }
  ]
}

stderr | tests/components/ReportPortal.test.tsx > ReportPortal > Close Functionality > should hide composer after closing
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)

stderr | tests/security/input-validation.test.ts > Security: Input Validation > Integer Overflow Protection > validates numeric boundaries
Unhandled GET request to http://localhost:8000/api/ohlc/BTCUSDT/1h?limit=-9007199254740992

[90mstdout[2m | tests/security/input-validation.test.ts[2m > [22m[2mSecurity: Input Validation[2m > [22m[2mUnicode Normalization[2m > [22m[2mhandles unicode homoglyphs
[22m[39mÎ“Ã¤â•£âˆ©â••Ã…  Homoglyph test for: â•¨â–‘dmin - Status: 200

[90mstdout[2m | tests/security/input-validation.test.ts[2m > [22m[2mSecurity: Input Validation[2m > [22m[2mUnicode Normalization[2m > [22m[2mhandles unicode homoglyphs
[22m[39mÎ“Ã¤â•£âˆ©â••Ã…  Homoglyph test for: Î“Ã â–‘nvalid - Status: 200

[90mstdout[2m | tests/security/input-validation.test.ts[2m > [22m[2mSecurity: Input Validation[2m > [22m[2mUnicode Normalization[2m > [22m[2mhandles unicode homoglyphs
[22m[39mÎ“Ã¤â•£âˆ©â••Ã…  Homoglyph test for: â‰¡Â¥Ã‰Â«ser - Status: 200

[90mstdout[2m | tests/security/input-validation.test.ts[2m > [22m[2mSecurity: Input Validation[2m > [22m[2mContent Security Policy[2m > [22m[2mincludes CSP headers
[22m[39mÎ“Â£Ã  CSP Header: default-src 'self'

[90mstdout[2m | tests/security/input-validation.test.ts[2m > [22m[2mSecurity: Input Validation[2m > [22m[2mSecurity Headers[2m > [22m[2mincludes security headers
[22m[39mSecurity Headers: {
  [32m'X-Content-Type-Options'[39m: [32m'nosniff'[39m,
  [32m'X-Frame-Options'[39m: [32m'DENY'[39m,
  [32m'X-XSS-Protection'[39m: [32m'1; mode=block'[39m,
  [32m'Strict-Transport-Security'[39m: [32m'max-age=31536000; includeSubDomains'[39m
}

stderr | tests/components/ReportPortal.test.tsx > ReportPortal > Edge Cases > should handle rapid open/close cycles
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)

stderr | tests/components/ReportPortal.test.tsx > ReportPortal > Edge Cases > should handle rapid open/close cycles
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)
Warning: An update to ReportPortal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at ReportPortal (C:\Users\USER\Desktop\lokifi\apps\frontend\src\components\ReportPortal.tsx:9:57)

 [32mÎ“Â£Ã´[39m tests/lib/api/apiClient.test.ts [2m([22m[2m26 tests[22m[2m)[22m[33m 422[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/security/input-validation.test.ts [2m([22m[2m13 tests[22m[2m | [22m[33m3 skipped[39m[2m)[22m[33m 371[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/components/ReportPortal.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[32m 269[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/components/layout/PageContent.test.tsx [2m([22m[2m29 tests[22m[2m)[22m[32m 236[2mms[22m[39m
[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2msends chat request successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2msends chat request successfully
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles multi-turn conversation
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles multi-turn conversation
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles system messages
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles system messages
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles messages with name field
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles messages with name field
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles response with result field
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles response with result field
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles empty messages array
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles empty messages array
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles long conversation history
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles long conversation history
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

 [32mÎ“Â£Ã´[39m tests/hooks/useMarketData.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 227[2mms[22m[39m
[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles messages with special characters
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles messages with special characters
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles very long message content
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mchat function[2m > [22m[2mhandles very long message content
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on 400 bad request
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on 400 bad request
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m400[39m

stderr | tests/lib/api/chat.test.ts > Chat API > Error Handling > throws error on 400 bad request
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Invalid message format"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at chat (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\chat.ts:7:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\chat.test.ts:236:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on 400 bad request
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Invalid message format"}

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on 401 unauthorized
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on 401 unauthorized
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m401[39m

stderr | tests/lib/api/chat.test.ts > Chat API > Error Handling > throws error on 401 unauthorized
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Authentication required"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at chat (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\chat.ts:7:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\chat.test.ts:248:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on 401 unauthorized
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Authentication required"}

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on 429 rate limit
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on 429 rate limit
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m429[39m

stderr | tests/lib/api/chat.test.ts > Chat API > Error Handling > throws error on 429 rate limit
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Rate limit exceeded"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at chat (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\chat.ts:7:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\chat.test.ts:260:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on 429 rate limit
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Rate limit exceeded"}

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on 500 server error
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on 500 server error
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m500[39m

stderr | tests/lib/api/chat.test.ts > Chat API > Error Handling > throws error on 500 server error
Î“Â¥Ã® apiFetch: Request failed: Error: {"detail":"Internal server error"}
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:45:15)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at chat (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\chat.ts:7:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\chat.test.ts:272:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on 500 server error
[22m[39mÎ“Â¥Ã® apiFetch: Error response: {"detail":"Internal server error"}

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mthrows error on network failure
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

stderr | tests/lib/api/chat.test.ts > Chat API > Error Handling > throws error on network failure
Î“Â¥Ã® apiFetch: Request failed: TypeError: Failed to fetch
    at createNetworkError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/utils/createNetworkError.ts:2:24)
    at Object.onRequestError (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:139:34)
    at handleResponse (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:58:15)
    at handleRequest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/utils/handleRequest.ts:230:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at globalThis.fetch (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@mswjs/interceptors/src/interceptors/fetch/index.ts:72:32)
    at apiFetch (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\apiFetch.ts:27:17)
    at chat (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\api\chat.ts:7:15)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\api\chat.test.ts:284:7
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20 {
  cause: Response {
    status: 0,
    statusText: '',
    headers: Headers {},
    body: null,
    bodyUsed: false,
    ok: false,
    redirected: false,
    type: 'error',
    url: ''
  }
}

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mhandles malformed JSON response
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mhandles malformed JSON response
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mhandles empty response body
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mError Handling[2m > [22m[2mhandles empty response body
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mResponse Modes[2m > [22m[2mhandles general mode
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mResponse Modes[2m > [22m[2mhandles general mode
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mResponse Modes[2m > [22m[2mhandles trading mode
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mResponse Modes[2m > [22m[2mhandles trading mode
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mResponse Modes[2m > [22m[2mhandles analysis mode
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mResponse Modes[2m > [22m[2mhandles analysis mode
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mResponse Modes[2m > [22m[2mhandles query mode
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mResponse Modes[2m > [22m[2mhandles query mode
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mMessage Types[2m > [22m[2mvalidates user role messages
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mMessage Types[2m > [22m[2mvalidates user role messages
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mMessage Types[2m > [22m[2mvalidates assistant role messages
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mMessage Types[2m > [22m[2mvalidates assistant role messages
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mMessage Types[2m > [22m[2mvalidates system role messages
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mMessage Types[2m > [22m[2mvalidates system role messages
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mMessage Types[2m > [22m[2mhandles mixed message types
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mMessage Types[2m > [22m[2mhandles mixed message types
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mEdge Cases[2m > [22m[2mhandles concurrent chat requests
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST
â‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mEdge Cases[2m > [22m[2mhandles concurrent chat requests
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mEdge Cases[2m > [22m[2mhandles concurrent chat requests
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m
â‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mEdge Cases[2m > [22m[2mhandles response with additional fields
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mEdge Cases[2m > [22m[2mhandles response with additional fields
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mEdge Cases[2m > [22m[2mhandles unicode and emoji in messages
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mEdge Cases[2m > [22m[2mhandles unicode and emoji in messages
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mEdge Cases[2m > [22m[2mhandles newlines and whitespace in content
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mEdge Cases[2m > [22m[2mhandles newlines and whitespace in content
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mEdge Cases[2m > [22m[2mpreserves message order
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Making request to: http://localhost:8000/api/chat
â‰¡Æ’Ã®Ã‰ apiFetch: Method: POST

[90mstdout[2m | tests/lib/api/chat.test.ts[2m > [22m[2mChat API[2m > [22m[2mEdge Cases[2m > [22m[2mpreserves message order
[22m[39mâ‰¡Æ’Ã®Ã‰ apiFetch: Response status: [33m200[39m

 [32mÎ“Â£Ã´[39m tests/lib/api/chat.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 237[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/stores/multiChartStore.test.tsx [2m([22m[2m34 tests[22m[2m | [22m[33m6 skipped[39m[2m)[22m[32m 237[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/components/LabelsLayer.test.tsx [2m([22m[2m23 tests[22m[2m)[22m[32m 269[2mms[22m[39m
stderr | tests/lib/data/adapter.test.ts > MarketDataAdapter > HTTP Provider > falls back to mock when CANDLES_URL not set
NEXT_PUBLIC_CANDLES_URL not set; falling back to mock.

stderr | tests/lib/data/adapter.test.ts > MarketDataAdapter > HTTP Provider > falls back to mock on HTTP fetch error
HTTP provider failed; falling back to mock. Error: Network error
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\data\adapter.test.ts:312:53
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | tests/lib/data/adapter.test.ts > MarketDataAdapter > WebSocket Provider > falls back to mock when STREAM_URL not set
NEXT_PUBLIC_STREAM_URL not set; falling back to mock.

 [32mÎ“Â£Ã´[39m tests/lib/data/adapter.test.ts [2m([22m[2m45 tests[22m[2m)[22m[32m 152[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/components/DataStatus.test.tsx [2m([22m[2m14 tests[22m[2m)[22m[32m 143[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/api/contracts/ohlc.contract.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 157[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/multiChart.test.tsx [2m([22m[2m40 tests[22m[2m)[22m[32m 147[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/components/ReactQueryProvider.test.tsx [2m([22m[2m18 tests[22m[2m)[22m[32m 141[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/share.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 97[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/featureFlags.test.ts [2m([22m[2m40 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/stores/multiChartStore.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/api/contracts/auth.contract.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/share2.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/stores/indicatorStore.test.tsx [2m([22m[2m58 tests[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/multiChart.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/alerts.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/lod.test.ts [2m([22m[2m58 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/storage.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 57[2mms[22m[39m
stderr | tests/lib/utils/migrations.test.ts > migrations > migrateAll > should preserve original state on migration failure
Failed to migrate invalid: Error: No migration found for invalid from version 0 to 1
    at migrateState (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\utils\migrations.ts:152:13)
    at migrateAll (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\utils\migrations.ts:174:29)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\utils\migrations.test.ts:298:22
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)

stderr | tests/lib/utils/migrations.test.ts > migrations > migrateAll > should handle multiple failed migrations
Failed to migrate fail1: Error: No migration found for fail1 from version 0 to 1
    at migrateState (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\utils\migrations.ts:152:13)
    at migrateAll (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\utils\migrations.ts:174:29)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\utils\migrations.test.ts:342:22
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
Failed to migrate fail2: Error: No migration found for fail2 from version 0 to 1
    at migrateState (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\utils\migrations.ts:152:13)
    at migrateAll (C:\Users\USER\Desktop\lokifi\apps\frontend\src\lib\utils\migrations.ts:174:29)
    at C:\Users\USER\Desktop\lokifi\apps\frontend\tests\lib\utils\migrations.test.ts:342:22
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///C:/Users/USER/Desktop/lokifi/apps/frontend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)

 [32mÎ“Â£Ã´[39m tests/lib/utils/migrations.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 52[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/data/dashboardData.test.ts [2m([22m[2m50 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/perf.test.ts [2m([22m[2m25 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 39[2mms[22m[39m
 [32mÎ“Â£Ã´[39m coverage-dashboard/__tests__/sorting.test.js [2m([22m[2m15 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/charts/chartMap.test.ts [2m([22m[2m83 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/data/persistence.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/utils/measure.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/stores/drawStore.test.tsx [2m([22m[2m58 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/geom.test.ts [2m([22m[2m49 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/stores/pluginSettingsStore.test.tsx [2m([22m[2m33 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mÎ“Â£Ã´[39m coverage-dashboard/__tests__/debounce.test.js [2m([22m[2m16 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/charts/chartBus.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/charts/lw-mapping.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/lw-mapping.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/utils/perf.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/utils/persist.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/utils/notify.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/svg.test.ts [2m([22m[2m56 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/styles.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/utils/pdf.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/portfolio.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/charts/chartUtils.test.ts [2m([22m[2m52 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/utils/portfolio.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 78[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/alignment.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mÎ“Â£Ã´[39m coverage-dashboard/__tests__/velocity.test.js [2m([22m[2m20 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/stores/symbolStore.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/stores/timeframeStore.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mÎ“Â£Ã´[39m coverage-dashboard/__tests__/export.test.js [2m([22m[2m22 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/measure.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/stores/timeframeStore.test.tsx [2m([22m[2m23 tests[22m[2m | [22m[33m2 skipped[39m[2m)[22m[32m 27[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/stores/symbolStore.test.tsx [2m([22m[2m19 tests[22m[2m | [22m[33m2 skipped[39m[2m)[22m[32m 15[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/keys.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/lib/utils/timeframes.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mÎ“Â£Ã´[39m coverage-dashboard/__tests__/heatmap.test.js [2m([22m[2m15 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/charts/indicators.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mÎ“Â£Ã´[39m coverage-dashboard/__tests__/pagination.test.js [2m([22m[2m15 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/security/validation.security.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/security/auth.security.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/security/xss.security.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/security/csrf.security.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 6[2mms[22m[39m

[2m Test Files [22m [1m[32m88 passed[39m[22m[90m (88)[39m
[2m      Tests [22m [1m[32m2426 passed[39m[22m[2m | [22m[33m15 skipped[39m[90m (2441)[39m
[2m   Start at [22m 20:47:02
[2m   Duration [22m 49.97s[2m (transform 4.52s, setup 55.25s, collect 9.38s, tests 33.00s, environment 93.10s, prepare 16.83s)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   11.25 |    88.74 |   84.87 |   11.25 |                   
 components        |       0 |    94.59 |   94.59 |       0 |                   
  ...rBoundary.tsx |       0 |      100 |     100 |       0 | 2-62              
  ChartHeader.tsx  |       0 |      100 |     100 |       0 | 2-143             
  ...dingState.tsx |       0 |      100 |     100 |       0 | 2-23              
  ChartPanel.tsx   |       0 |      100 |     100 |       0 | 2-1064            
  ChartPanelV2.tsx |       0 |      100 |     100 |       0 | 2-537             
  ChartSidebar.tsx |       0 |      100 |     100 |       0 | 2-194             
  ContextMenu.tsx  |       0 |        0 |       0 |       0 | 1-29              
  CopilotChat.tsx  |       0 |      100 |     100 |       0 | 2-74              
  CryptoTable.tsx  |       0 |        0 |       0 |       0 |                   
  DrawToolbar.tsx  |       0 |      100 |     100 |       0 | 3-54              
  DrawingChart.tsx |       0 |      100 |     100 |       0 | 3-437             
  ...ngToolbar.tsx |       0 |      100 |     100 |       0 | 2-322             
  ...ncedChart.tsx |       0 |      100 |     100 |       0 | 2-305             
  ...bolPicker.tsx |       0 |      100 |     100 |       0 | 2-299             
  GlobalHeader.tsx |       0 |      100 |     100 |       0 | 3-274             
  ...atorModal.tsx |       0 |      100 |     100 |       0 | 2-235             
  ...orModalV2.tsx |       0 |      100 |     100 |       0 | 2-228             
  ...atorPanel.tsx |       0 |      100 |     100 |       0 | 2-51              
  ...ngsDrawer.tsx |       0 |      100 |     100 |       0 | 2-82              
  LeftDock.tsx     |       0 |      100 |     100 |       0 | 3-51              
  ...tOverview.tsx |       0 |        0 |       0 |       0 |                   
  ...artLayout.tsx |       0 |      100 |     100 |       0 | 3-73              
  ...PaneChart.tsx |       0 |      100 |     100 |       0 | 3-276             
  Navigation.tsx   |       0 |        0 |       0 |       0 |                   
  NewsList.tsx     |       0 |      100 |     100 |       0 | 2-20              
  ...ationBell.tsx |       0 |      100 |     100 |       0 | 8-283             
  ...ionCenter.tsx |       0 |      100 |     100 |       0 | 8-599             
  ObjectTree.tsx   |       0 |      100 |     100 |       0 | 2-302             
  ...ngsDrawer.tsx |       0 |      100 |     100 |       0 | 2-129             
  ...deToolbar.tsx |       0 |      100 |     100 |       0 | 3-45              
  SWRProvider.tsx  |       0 |      100 |     100 |       0 | 3-17              
  SymbolPicker.tsx |       0 |      100 |     100 |       0 | 2-12              
  ...amePicker.tsx |       0 |      100 |     100 |       0 | 2-25              
  TopHeader.tsx    |       0 |        0 |       0 |       0 |                   
  ...Workspace.tsx |       0 |      100 |     100 |       0 | 2-244             
  ...listPanel.tsx |       0 |        0 |       0 |       0 | 1-440             
  ...onnection.tsx |       0 |      100 |     100 |       0 | 2-244             
 components/ui     |       0 |        0 |       0 |       0 |                   
  button.tsx       |       0 |        0 |       0 |       0 | 1-42              
  card.tsx         |       0 |        0 |       0 |       0 | 1-80              
 hooks             |       0 |      100 |     100 |       0 |                   
  useAuth.tsx      |       0 |      100 |     100 |       0 | 3-132             
  ...dShortcuts.ts |       0 |      100 |     100 |       0 | 2-82              
 lib               |   66.66 |    95.08 |   66.66 |   66.66 |                   
  featureFlags.ts  |   86.48 |       50 |      40 |   86.48 | ...04-105,108-113 
  multiChart.tsx   |   60.93 |    98.24 |      75 |   60.93 | ...21-347,351-377 
 src               |       0 |      100 |     100 |       0 |                   
  App.tsx          |       0 |      100 |     100 |       0 | 2-35              
 src/components    |   21.74 |    84.05 |   83.56 |   21.74 |                   
  AlertModal.tsx   |       0 |        0 |       0 |       0 | 1-105             
  AlertPortal.tsx  |     100 |      100 |     100 |     100 |                   
  AlertsPanel.tsx  |       0 |        0 |       0 |       0 | 1-98              
  AuthModal.tsx    |       0 |      100 |     100 |       0 | 3-571             
  AuthProvider.tsx |     100 |      100 |     100 |     100 |                   
  DataStatus.tsx   |     100 |      100 |     100 |     100 |                   
  DrawingLayer.tsx |       0 |        0 |       0 |       0 | 1-541             
  ...gSettings.tsx |     100 |      100 |     100 |     100 |                   
  ...ingsPanel.tsx |       0 |        0 |       0 |       0 | 1-216             
  ...SidePanel.tsx |       0 |      100 |     100 |       0 | 2-37              
  ...tylePanel.tsx |       0 |        0 |       0 |       0 | 1-87              
  ...portPanel.tsx |       0 |      100 |     100 |       0 | 3-122             
  ...ngsDrawer.tsx |       0 |      100 |     100 |       0 | 2-67              
  LabelsLayer.tsx  |     100 |      100 |     100 |     100 |                   
  LayersPanel.tsx  |       0 |        0 |       0 |       0 | 1-63              
  Logo.tsx         |       0 |        0 |       0 |       0 |                   
  Navbar.tsx       |       0 |      100 |     100 |       0 | 3-53              
  ...Inspector.tsx |       0 |        0 |       0 |       0 | 1-137             
  PluginDrawer.tsx |       0 |        0 |       0 |       0 | 1-67              
  ...inManager.tsx |     100 |      100 |     100 |     100 |                   
  PriceChart.tsx   |    46.4 |    58.82 |   66.66 |    46.4 | ...16-306,331-359 
  ProjectBar.tsx   |     100 |    86.36 |     100 |     100 | 32,41,47          
  ...ctedRoute.tsx |       0 |      100 |     100 |       0 | 3-88              
  ...yProvider.tsx |     100 |      100 |     100 |     100 |                   
  ...tComposer.tsx |       0 |        0 |       0 |       0 | 1-111             
  ReportPortal.tsx |     100 |      100 |     100 |     100 |                   
  ...onToolbar.tsx |     100 |      100 |     100 |     100 |                   
  ShareBar.tsx     |     100 |    80.95 |     100 |     100 | 24,43,52,57       
  ...hotsPanel.tsx |       0 |        0 |       0 |       0 | 1-50              
  SymbolTfBar.tsx  |   98.86 |    93.93 |     100 |   98.86 | 66                
 ...ents/dashboard |    28.9 |      100 |     100 |    28.9 |                   
  APIKeyModal.tsx  |       0 |        0 |       0 |       0 |                   
  ...oardModal.tsx |       0 |        0 |       0 |       0 |                   
  ...esContext.tsx |       0 |      100 |     100 |       0 | 3-53              
  ...eDropdown.tsx |     100 |      100 |     100 |     100 |                   
  ...ingsModal.tsx |       0 |        0 |       0 |       0 |                   
  ...tProvider.tsx |       0 |      100 |     100 |       0 | 3-118             
  ...Formatter.tsx |       0 |      100 |     100 |       0 | 3-45              
 ...ponents/layout |    6.93 |      100 |     100 |    6.93 |                   
  GlobalLayout.tsx |       0 |      100 |     100 |       0 | 3-311             
  PageContent.tsx  |     100 |      100 |     100 |     100 |                   
 ...onents/markets |   77.77 |    96.51 |     100 |   77.77 |                   
  ...dSkeleton.tsx |       0 |      100 |     100 |       0 | 7-49              
  EmptyState.tsx   |     100 |      100 |     100 |     100 |                   
  ExportButton.tsx |       0 |      100 |     100 |       0 | 7-68              
  ...Shortcuts.tsx |     100 |      100 |     100 |     100 |                   
  MarketStats.tsx  |   99.18 |    93.33 |     100 |   99.18 | 60                
  QuickStats.tsx   |     100 |      100 |     100 |     100 |                   
 ...ents/portfolio |       0 |      100 |     100 |       0 |                   
  ...ssetModal.tsx |       0 |      100 |     100 |       0 | 3-348             
 src/config        |       0 |        0 |       0 |       0 |                   
  brand.ts         |       0 |        0 |       0 |       0 |                   
 src/data          |       0 |      100 |     100 |       0 |                   
  ...arket-data.ts |       0 |      100 |     100 |       0 | 17-11989          
 src/hooks         |   21.85 |    93.65 |     100 |   21.85 |                   
  ...kendPrices.ts |       0 |      100 |     100 |       0 | 14-389            
  useMarketData.ts |   97.83 |    93.33 |     100 |   97.83 | 225,227,255,266   
  ...ifications.ts |       0 |      100 |     100 |       0 | 6-470             
  ...fiedAssets.ts |       0 |      100 |     100 |       0 | 8-193             
 src/lib/api       |   61.59 |    83.07 |   84.61 |   61.59 |                   
  api.ts           |       0 |        0 |       0 |       0 | 1                 
  apiClient.ts     |   96.31 |    88.46 |     100 |   96.31 | 139-144           
  apiFetch.ts      |     100 |    76.47 |     100 |     100 | 7,13,41           
  auth-guard.ts    |       0 |        0 |       0 |       0 | 1-13              
  ...rotection.tsx |       0 |      100 |     100 |       0 | 3-76              
  auth.ts          |     100 |      100 |     100 |     100 |                   
  chat.ts          |     100 |      100 |     100 |     100 |                   
  collab.ts        |       0 |        0 |       0 |       0 | 1-46              
  index.ts         |       0 |      100 |     100 |       0 | 2-11              
  price-feed.ts    |       0 |        0 |       0 |       0 | 1-28              
  queryClient.ts   |       0 |      100 |     100 |       0 | 8-62              
 src/lib/charts    |   71.28 |     87.5 |    90.9 |   71.28 |                   
  chartBus.ts      |     100 |      100 |     100 |     100 |                   
  chartMap.ts      |     100 |    90.69 |     100 |     100 | 12-15             
  chartUtils.ts    |     100 |    93.33 |     100 |     100 | 20                
  index.ts         |       0 |      100 |     100 |       0 | 2-7               
  indicators.ts    |   71.94 |    74.28 |      75 |   71.94 | 55-76,86-106      
  lw-extras.ts     |       0 |        0 |       0 |       0 | 1-56              
  lw-mapping.ts    |     100 |    94.28 |     100 |     100 | 25-26             
 src/lib/constants |       0 |      100 |     100 |       0 |                   
  flags.ts         |       0 |      100 |     100 |       0 | 3-16              
 src/lib/data      |   85.14 |    90.05 |   89.74 |   85.14 |                   
  adapter.ts       |   89.71 |    84.37 |   81.81 |   89.71 | ...63-164,167-171 
  dashboardData.ts |     100 |    96.15 |     100 |     100 | 152,231           
  persistence.ts   |     100 |      100 |     100 |     100 |                   
  ...lioStorage.ts |       0 |      100 |     100 |       0 | 16-80             
 src/lib/importers |       0 |      100 |     100 |       0 |                   
  tradingview.ts   |       0 |      100 |     100 |       0 | 25-128            
 src/lib/plugins   |       0 |      100 |     100 |       0 |                   
  index.ts         |       0 |      100 |     100 |       0 | 2-4               
  pluginAPI.ts     |       0 |      100 |     100 |       0 | 2-33              
  pluginSDK.ts     |       0 |      100 |     100 |       0 | 69-301            
  plugins.ts       |       0 |      100 |     100 |       0 | 18-40             
 src/lib/stores    |   10.65 |    85.86 |   75.89 |   10.65 |                   
  alertsStore.tsx  |   38.81 |    79.36 |   45.45 |   38.81 | ...49,952,956-963 
  ...sterStore.tsx |       0 |        0 |       0 |       0 | 1-946             
  ...SyncStore.tsx |       0 |        0 |       0 |       0 | 1-1781            
  ...ionsStore.tsx |       0 |        0 |       0 |       0 | 1-548             
  drawStore.tsx    |   99.38 |    92.45 |     100 |   99.38 | 136               
  drawingStore.tsx |   98.12 |    88.73 |     100 |   98.12 | ...93,241,318,365 
  ...mentStore.tsx |       0 |        0 |       0 |       0 | 1-1886            
  featureFlags.ts  |     100 |      100 |     100 |     100 |                   
  index.ts         |       0 |      100 |     100 |       0 | 3-21              
  ...atorStore.tsx |     100 |    94.28 |     100 |     100 | 77,82             
  ...tingStore.tsx |       0 |        0 |       0 |       0 | 1-1885            
  ...DataStore.tsx |   93.91 |    90.32 |    90.9 |   93.91 | 224-237           
  ...A11yStore.tsx |       0 |        0 |       0 |       0 | 1-1550            
  ...ringStore.tsx |       0 |        0 |       0 |       0 | 1-1779            
  ...hartStore.tsx |   59.84 |    86.53 |      75 |   59.84 | ...25-351,355-381 
  ...lityStore.tsx |       0 |        0 |       0 |       0 | 1-1752            
  paneStore.tsx    |   99.09 |    97.87 |     100 |   99.09 | 94                
  ...dingStore.tsx |       0 |        0 |       0 |       0 | 1-1284            
  ...anceStore.tsx |       0 |        0 |       0 |       0 | 1-1741            
  ...ingsStore.tsx |    92.5 |    83.33 |     100 |    92.5 | 23-25             
  ...mentStore.tsx |       0 |        0 |       0 |       0 | 1-1317            
  ...backStore.tsx |       0 |        0 |       0 |       0 | 1-1425            
  socialStore.tsx  |       0 |        0 |       0 |       0 | 1-1312            
  symbolStore.tsx  |     100 |      100 |     100 |     100 |                   
  ...atesStore.tsx |       0 |        0 |       0 |       0 | 1-804             
  ...rameStore.tsx |     100 |      100 |     100 |     100 |                   
  ...listStore.tsx |   60.37 |    84.93 |   56.52 |   60.37 | ...95,498,502-506 
 src/lib/types     |       0 |        0 |       0 |       0 |                   
  index.ts         |       0 |        0 |       0 |       0 |                   
 src/lib/utils     |   62.29 |    90.46 |   91.26 |   62.29 |                   
  alerts.ts        |     100 |      100 |     100 |     100 |                   
  alignment.ts     |     100 |    97.95 |     100 |     100 | 58                
  drawings.ts      |       0 |        0 |       0 |       0 | 1-156             
  exporters.ts     |       0 |        0 |       0 |       0 | 1-41              
  featureFlags.ts  |     100 |      100 |     100 |     100 |                   
  geom.ts          |     100 |      100 |     100 |     100 |                   
  globalHotkeys.ts |       0 |        0 |       0 |       0 | 1-43              
  hotkeys.ts       |   47.61 |      100 |      50 |   47.61 | 8-18              
  index.ts         |       0 |      100 |     100 |       0 | 2-31              
  io.ts            |       0 |        0 |       0 |       0 | 1-45              
  keys.ts          |     100 |      100 |     100 |     100 |                   
  labels.ts        |       0 |      100 |     100 |       0 | 2-95              
  lod.ts           |     100 |    93.47 |     100 |     100 | 17,42,63          
  measure.ts       |     100 |      100 |     100 |     100 |                   
  migrations.ts    |      92 |       90 |     100 |      92 | 157-161,211       
  notify.ts        |     100 |      100 |     100 |     100 |                   
  pdf.ts           |     100 |       80 |     100 |     100 | 32                
  perf.ts          |     100 |      100 |     100 |     100 |                   
  persist.ts       |     100 |      100 |     100 |     100 |                   
  portfolio.ts     |     100 |      100 |     100 |     100 |                   
  report.ts        |       0 |        0 |       0 |       0 | 1-119             
  share.ts         |     100 |      100 |      75 |     100 |                   
  share2.ts        |     100 |    77.77 |     100 |     100 | 27,32             
  social.ts        |       0 |        0 |       0 |       0 | 1-77              
  storage.ts       |     100 |      100 |     100 |     100 |                   
  styles.ts        |     100 |      100 |     100 |     100 |                   
  svg.ts           |     100 |    96.36 |     100 |     100 | 29,38             
  theme.ts         |       0 |        0 |       0 |       0 |                   
  timeframes.ts    |     100 |      100 |     100 |     100 |                   
  toast.tsx        |       0 |        0 |       0 |       0 | 1-34              
  webVitals.ts     |    89.2 |    59.57 |     100 |    89.2 | ...02-203,205-206 
 src/services      |       0 |      100 |     100 |       0 |                   
  ...iceService.ts |       0 |      100 |     100 |       0 | 12-507            
  marketData.ts    |       0 |      100 |     100 |       0 | 58-699            
 src/state         |       0 |      100 |     100 |       0 |                   
  store.ts         |       0 |      100 |     100 |       0 | 3-609             
 src/types         |       0 |        0 |       0 |       0 |                   
  alerts.ts        |       0 |        0 |       0 |       0 |                   
  assets.ts        |       0 |        0 |       0 |       0 |                   
  chart.ts         |       0 |        0 |       0 |       0 |                   
  drawing.ts       |       0 |        0 |       0 |       0 |                   
  drawings.ts      |       0 |        0 |       0 |       0 |                   
  google-auth.ts   |       0 |        0 |       0 |       0 |                   
  ...ght-charts.ts |       0 |        0 |       0 |       0 |                   
  user.ts          |       0 |        0 |       0 |       0 |                   
  window.ts        |       0 |        0 |       0 |       0 |                   
 src/utils         |       0 |      100 |     100 |       0 |                   
  assetIcons.tsx   |       0 |      100 |     100 |       0 | 10-272            
  logger.ts        |       0 |      100 |     100 |       0 | 6-116             
-------------------|---------|----------|---------|---------|-------------------
â‰¡Æ’Ã¶Ã¤ Updating coverage dashboard...

â‰¡Æ’Ã´Ã¨ Coverage:
   Statements: 11.26%
   Branches:   88.75%
   Functions:  84.87%
   Lines:      11.26%

â‰¡Æ’Ã¶Ã¬ Coverage gaps: 105 HIGH, 1 MEDIUM, 3 LOW

â‰¡Æ’Ã†Ã­ Generated 50 actionable recommendations

Î“Â£Ã  Dashboard updated!
â‰¡Æ’Ã´Ã¼ C:\Users\USER\Desktop\lokifi\apps\frontend\coverage-dashboard\data.json
â‰¡Æ’Ã´Ãª C:\Users\USER\Desktop\lokifi\apps\frontend\coverage-dashboard\trends.json
â‰¡Æ’Ã´Ã¨ C:\Users\USER\Desktop\lokifi\apps\frontend\coverage-dashboard\metadata.json

â‰¡Æ’Ã´Ã¨ Summary:
   Total Files: 197
   Modules: 1
   Critical Gaps: 105
   Healthy Files: 60
   Avg Complexity: 12

â‰¡Æ’Ã´Ãª Velocity:
   Tests/Day: NaN
   Coverage Gain/Run: 0.00%

â‰¡Æ’Ã†Ã­ Key Insights:
   â‰¡Æ’Æ’Ã­ Overall coverage is below 50%. Focus on writing more tests.
   â‰¡Æ’Ã¶â•¡ Branch coverage is excellent but line coverage is low. Focus on covering more code paths.
   â‰¡Æ’Æ’Ã­ 1 module(s) have critical coverage (<40%): other

â‰¡Æ’Ã®Ã‰ View: coverage-dashboard/index.html
â‰¡Æ’Ã†Ã­ Serve: npx serve coverage-dashboard

