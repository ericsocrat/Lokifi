const axios = require("axios");
const fs = require("fs");
const FINNHUB_API_KEY = "d38p06hr01qthpo0qskgd38p06hr01qthpo0qsl0";
const SYMBOLS = ["AAPL","MSFT","GOOGL","GOOG","AMZN","NVDA","META","TSLA","AVGO","ORCL","ADBE","CRM","CSCO","ACN","AMD","INTC","IBM","NOW","QCOM","TXN","INTU","AMAT","MU","LRCX","KLAC","SNPS","CDNS","ADSK","MRVL","FTNT","PANW","CRWD","ZS","DDOG","NET","SNOW","PLTR","COIN","SQ","PYPL","SHOP","UBER","ABNB","DASH","RBLX","SPOT","UNH","JNJ","LLY","ABBV","MRK","TMO","ABT","DHR","PFE","BMY","AMGN","GILD","VRTX","REGN","CI","CVS","HUM","ELV","ISRG","SYK","BSX","MDT","ZTS","IDXX","EW","JPM","V","MA","BAC","WFC","MS","GS","C","AXP","SCHW","BLK","SPGI","CME","ICE","MCO","AON","MMC","AJG","CB","TRV","WMT","HD","PG","KO","PEP","COST","NKE","MCD","SBUX","LOW","TJX","BKNG","CMG","ORLY","AZO","ROST","YUM","GM","F","XOM","CVX","COP","SLB","EOG","MPC","PSX","VLO","OXY","HAL","BKR","WMB","KMI","OKE","LNG","FANG","UPS","HON","UNP","RTX","CAT","BA","GE","LMT","DE","MMM","EMR","ETN","ITW","PH","WM","RSG","FDX","NSC","CSX","GD","NOC","LIN","APD","SHW","ECL","DD","DOW","NEM","FCX","NUE","STLD","VMC","MLM","NEE","DUK","SO","D","AEP","EXC","SRE","XEL","WEC","ES","PLD","AMT","CCI","EQIX","PSA","WELL","DLR","O","VICI","SPG","T","VZ","TMUS","CMCSA","CHTR","DIS","NFLX","SPY","QQQ","DIA","IWM","VTI","VOO","XLK","XLF","XLV","XLE","XLI","XLP","XLU","XLY","GLD","SLV","GDX","GDXJ","USO","UNG","DBA","AGG","BND","TLT"];
async function fetch() { const results = []; let i=0; for (const sym of SYMBOLS) { try { const r = await axios.get(`https://finnhub.io/api/v1/quote?symbol=${sym}&token=${FINNHUB_API_KEY}`); if (r.data.c && r.data.c > 0) { results.push({symbol:sym, name:sym, type:"stock", price:r.data.c, change:r.data.d||0, changePercent:r.data.dp||0, volume:0, marketCap:0, high24h:r.data.h||r.data.c, low24h:r.data.l||r.data.c, previousClose:r.data.pc||r.data.c}); } i++; if (i%20===0) console.log(`Progress: ${i}/${SYMBOLS.length}`); await new Promise(r=>setTimeout(r,1050)); } catch(e) { console.log(`Error ${sym}`); i++; } } fs.writeFileSync("stocks-finnhub.json", JSON.stringify(results,null,2)); console.log(`Done! ${results.length} stocks saved`); } fetch();
